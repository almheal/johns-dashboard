{"version":3,"sources":["webpack:///./src/components/elements/AppInput.vue?2fcc","webpack:///./src/views/Locales.vue?a94a","webpack:///./src/views/Locales.vue","webpack:///./src/views/Locales.vue?e21a","webpack:///./src/components/elements/AppInput.vue","webpack:///./src/components/elements/AppInput.vue?0e7f"],"names":["class","$t","localeHandler","placeholder","error","errors","title","locale","text","editItemId","loading","createLoader","updateLoader","buttonType","resetLocale","columns","rows","isNumeration","cross","edit","openDeleteModal","editLocaleHandler","toLocaleMessages","deleteItemId","close","closeModal","buttons","buttonsModalDelete","name","components","AppTable","AppButton","AppInput","AppInformationModal","mixins","TableActionsMixin","data","computed","state","deleteLoader","getLocales","items","this","map","hover","clickable","item","cells","methods","deleteItem","createLocale","updateLocale","createLocaleMessages","deleteItemHandler","id","row","_id","isValid","validate","body","LOCALE_TITLE_EMPTY","Object","keys","reduce","acc","key","messages","$router","push","__exports__","render","data-test","label","for","dynamicId","required","type","typeInput","value","modelValue","inputHandler","props","String","default","Boolean","saveKey","saveProperty","isSaved","Date","now","Math","random","watch","property","e","$emit","target","mounted"],"mappings":"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","file":"js/chunk-2434e15f.bc442499.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AppInput.vue?vue&type=style&index=0&id=4505273c&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Locales.vue?vue&type=style&index=0&id=5c15ee1a&lang=scss&scoped=true\"","<template>\n  <div class=\"locales\">\n    <div class=\"locales__inner\">\n      <h1 class=\"locales__title\">{{ $t(\"admin.menu.locales\") }}</h1>\n      <div class=\"locales__header\">\n        <form class=\"locales__create\" @submit.prevent=\"localeHandler\">\n          <app-input\n            :placeholder=\"$t('admin.createLocale.localeTitle')\"\n            :error=\"$t(errors.title)\"\n            v-model=\"locale.title\"\n            @update:modelValue=\"errors.title = ''\"\n          />\n          <app-button\n            class=\"locales__button\"\n            :text=\"!editItemId ? $t('admin.utils.add') : $t('admin.utils.edit')\"\n            :loading=\"createLoader || updateLoader\"\n            buttonType=\"submit\"\n          />\n          <app-button\n            class=\"locales__button\"\n            v-if=\"editItemId\"\n            :text=\"$t('admin.utils.cancel')\"\n            buttonType=\"button\"\n            @clickButton=\"resetLocale\"\n          />\n        </form>\n      </div>\n      <app-table\n        :columns=\"columns\"\n        :rows=\"rows\"\n        :isNumeration=\"true\"\n        :cross=\"true\"\n        :edit=\"true\"\n        @clickCross=\"openDeleteModal\"\n        @clickEdit=\"editLocaleHandler\"\n        @clickOnRow=\"toLocaleMessages\"\n      />\n    </div>\n    <app-information-modal\n      v-if=\"deleteItemId\"\n      :title=\"$t('admin.confirmDelete.title')\"\n      :close=\"closeModal\"\n      :text=\"`${$t('admin.confirmDelete.text')}?`\"\n      :buttons=\"buttonsModalDelete\"\n    />\n  </div>\n</template>\n\n<script>\nimport AppTable from \"@/components/elements/AppTable\";\nimport AppButton from \"@/components/elements/AppButton\";\nimport AppInput from \"@/components/elements/AppInput\";\nimport AppInformationModal from \"@/components/elements/AppInformationModal\";\nimport TableActionsMixin from \"@/mixins/TableActionsMixin\";\nimport { ERRORS_MESSAGE_CODES } from \"@/consts/errors\";\nimport { mapActions, mapState } from \"vuex\";\n\nexport default {\n  name: \"Locales\",\n  components: {\n    AppTable,\n    AppButton,\n    AppInput,\n    AppInformationModal,\n  },\n  mixins: [TableActionsMixin],\n  data: () => ({\n    locale: {\n      title: \"\",\n    },\n    errors: {\n      title: \"\",\n    },\n    editItemId: null,\n  }),\n  computed: {\n    ...mapState({\n      createLoader: (state) => state.locale.createLoader,\n      updateLoader: (state) => state.locale.updateLoader,\n      deleteLoader: (state) => state.locale.deleteLoader,\n      getLocales: (state) => state.locale.items,\n    }),\n    columns() {\n      return [\n        {\n          title: this.$t(\"admin.utils.title\"),\n        },\n      ];\n    },\n    rows() {\n      return this.getLocales.map((locale) => {\n        return {\n          hover: true,\n          clickable: true,\n          item: locale,\n          cells: [\n            {\n              title: locale.title,\n            },\n          ],\n        };\n      });\n    },\n  },\n  methods: {\n    ...mapActions({\n      deleteItem: \"locale/deleteItem\",\n      createLocale: \"locale/createItem\",\n      updateLocale: \"locale/updateItem\",\n      createLocaleMessages: \"localeMessages/createItem\",\n    }),\n    async deleteItemHandler() {\n      await this.deleteItem({ id: this.deleteItemId });\n      this.closeModal();\n    },\n    editLocaleHandler(row = {}) {\n      this.editItemId = row.item._id;\n      this.locale.title = row.item.title;\n    },\n    resetLocale() {\n      this.editItemId = null;\n      this.locale.title = \"\";\n    },\n    async localeHandler() {\n      const isValid = this.validate();\n      if (!isValid) {\n        return;\n      }\n\n      if (this.editItemId) {\n        await this.updateLocale({\n          id: this.editItemId,\n          body: this.locale,\n        });\n      } else {\n        await this.createLocale({ body: this.locale });\n      }\n\n      this.resetLocale();\n    },\n\n    validate() {\n      const errors = {\n        title: `errors.${ERRORS_MESSAGE_CODES.LOCALE_TITLE_EMPTY}`,\n      };\n      return Object.keys(errors).reduce((acc, key) => {\n        if (!this.locale[key]) {\n          this.errors[key] = errors[key];\n          acc = false;\n        }\n        return acc;\n      }, true);\n    },\n    toLocaleMessages({ item }) {\n      if (!item.messages) {\n        return;\n      }\n\n      this.$router.push(`/locale-messages/${item.messages}`);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.locales {\n  &__header {\n    display: flex;\n    justify-content: flex-end;\n    align-items: flex-start;\n  }\n\n  &__create {\n    display: flex;\n    align-items: flex-start;\n    margin-left: 10px;\n  }\n\n  &__button {\n    margin: 11px 0 0 10px;\n  }\n}\n</style>\n","import { render } from \"./Locales.vue?vue&type=template&id=5c15ee1a&scoped=true\"\nimport script from \"./Locales.vue?vue&type=script&lang=js\"\nexport * from \"./Locales.vue?vue&type=script&lang=js\"\n\nimport \"./Locales.vue?vue&type=style&index=0&id=5c15ee1a&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\projects\\\\papa-johns\\\\johns-dashboard\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5c15ee1a\"]])\n\nexport default __exports__","<template>\n  <div class=\"input-wrapper\">\n    <label :for=\"dynamicId\" class=\"input__label\" data-test=\"label\" v-if=\"label\"\n      >{{ label }}<span class=\"input__required\" v-if=\"required\">*</span></label\n    >\n    <input\n      class=\"input\"\n      data-test=\"input\"\n      :class=\"{ error: error }\"\n      :type=\"typeInput\"\n      :value=\"modelValue\"\n      :placeholder=\"placeholder\"\n      :id=\"dynamicId\"\n      @input=\"inputHandler\"\n    />\n    <div class=\"input__error\" data-test=\"error\" v-if=\"error\">\n      {{ error }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  setDynamicItemLocalStorage,\n  getDynamicPropertyLocalStorage,\n} from \"@/utils\";\n\nexport default {\n  name: \"AppInput\",\n  props: {\n    modelValue: {\n      type: String,\n      default: \"\",\n    },\n    required: {\n      type: Boolean,\n      default: false,\n    },\n    label: {\n      type: String,\n      default: \"\",\n    },\n    typeInput: {\n      type: String,\n      default: \"text\",\n    },\n    placeholder: {\n      type: String,\n      default: \"\",\n    },\n    error: {\n      type: String,\n      default: \"\",\n    },\n    saveKey: {\n      type: String,\n      default: \"\",\n    },\n    saveProperty: {\n      type: String,\n      default: \"\",\n    },\n    isSaved: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    dynamicId() {\n      const id = (Date.now() * Math.random()) / Math.random();\n      return id;\n    },\n  },\n  watch: {\n    modelValue(value) {\n      if (this.saveKey && this.saveProperty && this.isSaved) {\n        setDynamicItemLocalStorage({\n          key: this.saveKey,\n          property: this.saveProperty,\n          data: value,\n        });\n      }\n    },\n  },\n  methods: {\n    inputHandler(e) {\n      this.$emit(\"update:modelValue\", e.target.value);\n      if (this.saveKey && this.saveProperty && this.isSaved) {\n        setDynamicItemLocalStorage({\n          key: this.saveKey,\n          property: this.saveProperty,\n          data: e.target.value,\n        });\n      }\n    },\n  },\n  mounted() {\n    if (this.saveKey && this.saveProperty && this.isSaved) {\n      this.$emit(\n        \"update:modelValue\",\n        getDynamicPropertyLocalStorage({\n          key: this.saveKey,\n          property: this.saveProperty,\n        })\n      );\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.input-wrapper {\n  padding: 10px 0;\n}\n\n.input {\n  display: inline-block;\n  font-size: 16px;\n  width: 100%;\n  padding: 10px;\n  border-radius: 6px;\n  border: 1px solid rgb(229, 231, 235);\n  transition: 0.2s;\n\n  &:focus {\n    border-color: rgb(79, 70, 229);\n    box-shadow: 0px 0px 0px 3px rgba(99, 102, 241, 0.4);\n    transition: 0.2s;\n  }\n\n  &.error {\n    box-shadow: 0px 0px 0px 3px rgba(#c21313, 0.4);\n  }\n\n  &__required {\n    color: #c21313;\n  }\n\n  &__label {\n    display: inline-block;\n    margin-bottom: 7px;\n  }\n\n  &__error {\n    margin: 7px 0;\n    color: #c21313;\n  }\n}\n</style>\n","import { render } from \"./AppInput.vue?vue&type=template&id=4505273c&scoped=true\"\nimport script from \"./AppInput.vue?vue&type=script&lang=js\"\nexport * from \"./AppInput.vue?vue&type=script&lang=js\"\n\nimport \"./AppInput.vue?vue&type=style&index=0&id=4505273c&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\projects\\\\papa-johns\\\\johns-dashboard\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4505273c\"]])\n\nexport default __exports__"],"sourceRoot":""}